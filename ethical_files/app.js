(()=>{"use strict";(()=>{function e(e,t){e.forEach((a=>{a.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),a.classList.toggle("active"),t.href=a.dataset.proceedUrl}))}))}var t,a,o,s="overlay",c="vlLightBox",i="vlVideo",n=!1,r="",d="",l=0,u=0,m=10,v=10,h=25,p=60,f=250,g=0;function y(){if(0==n)return!1;var e=$(window).width(),t=$(window).height(),a=e-2*(m+v),o=t-(2*(m+v)+h+p);a>l&&(a=l),o>u&&(o=u);var s=l,r=u;s>a&&(r=(s=a)*u/l),r>o&&(s=(r=o)*l/u);var d=2*v+s,f=2*v+h+p+r;$("#"+c).css("width",d+"px"),$("#"+c).css("height",f+"px"),$("#"+c).css("left",(e-d)/2+"px"),$("#"+c).css("top",(t-f)/2+"px"),$("#"+c+" .lightboxInner").css("width",d+"px"),$("#"+c+" .lightboxInner").css("height",f-h+"px"),$("#"+i).css("width",s+"px"),$("#"+i).css("height",r+"px"),$("#"+i).css("left",v+"px"),$("#"+i).css("top",v+"px")}function k(){$('div[data-type="vl-video"]').click((function(){console.log(this);let e=$(this);var t=e.attr("data-video-width"),o=e.attr("data-video-height"),m=e.attr("data-videourl");!function(e,t,o,m){r=e,n=!0,l=1*t,u=1*o,d=m,y(),$("#"+i+" source").attr("src",d),$("#"+c+" .title").html(r),g=$("html, body").scrollTop(),$("html, body").scrollTop(0),$("#"+s).addClass("dark active"),$("#"+c).addClass("active"),a.src=d,setTimeout((function(){a.play()}),f)}(e.attr("data-video-title"),t,o,m)}))}function b(){const e=document.getElementById("rolmTiles"),t=document.querySelectorAll(".rolmT"),a=document.getElementById("tOuterWrap"),o=document.querySelectorAll(".tOSection"),s=document.querySelector(".headerClose"),c=document.getElementById("widget-instructions");t&&t.forEach((t=>{t.addEventListener("click",(function(){e.classList.add("hidden"),a.classList.add("active"),document.querySelector(".tOSection."+t.dataset.class).classList.add("active"),document.querySelector("."+t.dataset.class+" .tOBtn:first-of-type").classList.add("active"),document.querySelector("."+t.dataset.class+" .tOWrapper:first-of-type").classList.add("active"),c.className="headerMessage "+t.dataset.class}));let o=document.querySelectorAll("."+t.dataset.class+" .tOBtn");o.forEach((e=>{e.addEventListener("click",(function(){!function(e,t){t.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),document.querySelectorAll(".tOWrapper").forEach((e=>{e.classList.remove("active")})),e.parentElement.parentElement.querySelector('.tOWrapper[data-policynum="'+e.dataset.policynum+'"]').classList.add("active")}(this,o)}))}))})),s&&s.addEventListener("click",(function(){e.classList.remove("hidden"),a.classList.remove("active"),o.forEach((e=>{e.classList.remove("active")}))}))}var C=!1,L=0;function w(){0==C&&($(".edm").each((function(){L++,$(this).attr("data-step",L),1==L&&$(this).addClass("active")})),C=!0);var e=0,t=0,a=0;$(".edm .edmQuestion").each((function(){$(this).find("edmQText").css("height","auto"),$(this).css("height","auto")})),$(".edm .edmQuestion").each((function(){var o=$(this).height(),s=$(this).find(".edmQImage").height();s>a&&(a=s),o>e&&(e=o);var c=$(this).width();t<c&&(t=c)}));let o=e;t<o&&(o=t),$(".edm.questionstep .edmQuestion").css("height",e+24+"px"),console.log("question = %s, image height=%s, text = %s",e+24,a,e+24-a),$(".edm.final .edmQuestion").css("border-radius",o+24+"px");var s=0;$(".edm.questionstep .edmTWrap").each((function(){var e=$(this).height();e>s&&(s=e)})),$(".edm.questionstep .edmT").css("height",s+24+"px")}function E(){0!==$(".edmB").length&&($(".edmB").each((function(){$(this).click((function(){!function(e){var t=e.attr("data-button"),a=e.parent().parent(),o=a.attr("data-step");switch(t){case"edmNo":a.removeClass("StatusYes"),a.removeClass("StatusUnsure"),a.addClass("StatusNo");for(var s=1*o+1;s<=L;s++)$('.edm[data-step="'+s+'"]').removeClass("active");break;case"edmUnsure":for(a.removeClass("StatusYes"),a.removeClass("StatusNo"),a.addClass("StatusUnsure"),s=1*o+1;s<=L;s++)$('.edm[data-step="'+s+'"]').removeClass("active");break;case"edmYes":if(a.removeClass("StatusNo"),a.removeClass("StatusUnsure"),a.addClass("StatusYes"),o<L){var c=1*o+1;$('.edm[data-step="'+c+'"]').addClass("active"),$('.edm[data-step="'+c+'"]')[0].scrollIntoView({behavior:"smooth"})}}w()}($(this))}))})),$(window).resize((function(){clearTimeout(o),o=setTimeout((function(){w()}),250)})),w())}function T(e,t,a){if(3==e.nodeType)for(;e;){var o=e.data.indexOf(t),s=e;if(-1==o)e=null;else{var c=o+t.length,i=a.cloneNode(!0);c<e.length?(e=e.splitText(o+t.length)).parentNode.insertBefore(i,e):(e.parentNode.appendChild(i),e=null),s.deleteData(o,t.length)}}else for(var n,r=e.firstChild;r;)n=r.nextSibling,T(r,t,a),r=n}document.addEventListener("DOMContentLoaded",(function(){var o;!function(){if($(".accordion-title").click((function(){$(this).toggleClass("open"),$(this).find(".accordion-body").slideToggle()})),$(".accordionHeader").click((function(){$(this).toggleClass("clicked"),$(this).next().slideToggle()})),$("#open-video-accordion-by-language")){let e=$("#open-video-accordion-by-language").data("language"),t=$('.accordion-title[data-language="'+e+'"');console.log(t),t.toggleClass("open"),t.find(".accordion-body").slideToggle()}}(),function(){const t=document.querySelectorAll(".sobc-button"),a=document.querySelectorAll(".scoc-button"),o=document.getElementById("proceed_sobc_button"),s=document.getElementById("proceed_scoc_button");e(t,o),e(a,s)}(),o="",o+='<div id="'+c+'">',o+='<div class="lightboxClose">X</div>',o+='<div class="lightboxInner">',o+='   <video controls="" id="'+i+'" playsinline="">',o+='     <source type="video/mp4"></source>',o+="   </video>",o+='   <div class="title">&nbsp;</div>',o+="   </div>",o+="</div>",$("body").append(o),a=document.getElementById(i),$(window).resize((function(){clearTimeout(t),t=setTimeout((function(){y()}),500)})),$("#"+c+" .lightboxClose").click((function(){a.pause(),$("html, body").scrollTop(g),$("#"+s).removeClass("dark active"),$("#"+c).removeClass("active"),n=!1})),k(),b(),E(),$(".pwLinkGlossary").click((function(){var e=$(this).attr("data-glossary-key");$("#overlay").addClass("dark"),$("#overlay").addClass("active"),$("body").addClass("glossary-active"),$("#glossaryPop li").removeClass("active-term"),$("#"+e).addClass("active-term"),document.getElementById(e).scrollIntoView(),$("#glossaryPop .gClose").click((function(){$("body").removeClass("glossary-active"),$("#overlay").removeClass("active"),$("#overlay").removeClass("dark")}))})),function(){function e(){return $("#confirmLinkFormWrapper .cLinkCancel").off(),$("#confirmLinkFormWrapper .cLinkProceed").off(),$("#confirmLinkFormWrapper").remove(),$("#overlay").removeClass("active dark"),!1}var t,a,o,s,c;t="G&E Tracker",a="You have clicked on the link to the BAT <b>Gifts & Entertainment Tracker</b>. Please note that this will open in a new browser window.<br><br>You can also access the G&E Tracker directly on <b>www.bat.com/ge</b>, but you must be on the BAT Network.<br><br>Any issues or questions regarding the Tracker, should be emailed to <b>sobc_support@bat.com</b>.<br><br>Click 'Proceed' to carry on to the Tracker, or 'Cancel'.",o="https://www.bat.com/ge",s=!0,1==(c=$('a[href="https://www.bat.com/ge"]')).length&&""!=o&&c.click((function(c){c.stopPropagation(),c.preventDefault();var i='<div id="confirmLinkFormWrapper"><div class="cLink">';return i+='<div class="cLTitle">'+t+"</div>",i+='<div class="cLText">'+a+"</div>",i+='<div class="cLActions"><div class="cLinkCancel">Cancel</div><div class="cLinkProceed"><a class="cLAnchor" href="'+o+'" target="'+(1==s?"_blank":"_self")+'" title="Proceed">Proceed</a></div></div>',i+="</div></div>",$("body").append(i),$("#confirmLinkFormWrapper .cLinkCancel").click((function(){e()})),$("#confirmLinkFormWrapper .cLinkProceed").click((function(){e()})),$("#confirmLinkFormWrapper .cLinkProceed .cLAnchor").attr("href",o),$("#overlay").addClass("active dark"),!1}))}(),$('.clickAction[data-action="totop"]').parent().click((function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},500)})),$('.clickAction[data-action="backpage"]').parent().click((function(e){e.preventDefault(),window.history.go(-1)})),$(".qlWrapper ul.ql li").click((function(){var e=$("header").height(),t=$(this).attr("data-sectionid"),a=$('.sectionHeader[data-sectionid="'+t+'"]'),o=a.offset().top-e;$("html, body").animate({scrollTop:o},500),a.hasClass("clicked")||a.click()})),$('.section-Policies-Business-integrity .accordionHeader[data-sectionid="5"]').addClass("WhatAreSanctions"),function(){const e=document.getElementById("countrySearch"),t=document.querySelectorAll(".country_lt");e&&t&&e.addEventListener("input",(function(){t.forEach((e=>{e.parentElement.parentElement.style.display="none";let t=e.innerText.toLowerCase(),a=this.value.toLowerCase();t.includes(a)&&(e.parentElement.parentElement.style.display="block")}))}))}(),function(){document.querySelector("main");const e=new URLSearchParams(window.location.search);if(e.size>0){const c=e.get("highlight"),i=(s=c).charAt(0).toUpperCase()+s.slice(1),n=c.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()));var t=document.createElement("mark");t.appendChild(document.createTextNode(c));var a=document.createElement("mark");a.appendChild(document.createTextNode(i));var o=document.createElement("mark");o.appendChild(document.createTextNode(n)),T(document.body,c,t),T(document.body,i,a),T(document.body,n,o)}var s}()}))})()})();
//# sourceMappingURL=app.js.map